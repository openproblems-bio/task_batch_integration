- type: docker
  add: https://astral.sh/uv/0.7.19/install.sh /uv-installer.sh
  run: sh /uv-installer.sh && rm /uv-installer.sh
  env: PATH="/root/.local/bin/:$PATH"
- type: docker
  run: uv venv --python 3.11 /opt/venv
- type: docker
  env:
    - VIRTUAL_ENV=/opt/venv
    - PATH="/opt/venv/bin:$PATH"
  add: requirements.txt /requirements.txt
  run: uv pip install -r /requirements.txt && uv pip install mlflow==3.1.0
- type: docker
  run: uv pip install git+https://github.com/openproblems-bio/core#subdirectory=packages/python/openproblems
